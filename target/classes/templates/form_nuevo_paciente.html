<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <div th:insert="layout/template :: head"></div>
        <title>Nuevo paciente</title>
    </head>

    <body>
        <div th:insert="layout/template :: header"></div>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h1>Nuevo paciente</h1><br>
                    <form class="g-3" th:action="@{/pacientes}" method="post" th:object="${paciente}">
                        <div class="mb-3">
                            <label class="form-label" for="nombre">Nombre:</label>
                            <input id="nombre" class="form-control" type="text" name="nombre" th:field="*{nombre}"/>
                            <span th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}" style="color: red"></span>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="apellido">Apellido:</label>
                            <input id="apellido" class="form-control" type="text" name="apellido" th:field="*{apellido}"/>
                            <span th:if="${#fields.hasErrors('apellido')}" th:errors="*{apellido}" style="color: red"></span>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="dni">DNI:</label>
                            <input id="dni" class="form-control" type="text" name="dni" th:field="*{dni}"/>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="fechaNacimiento">Fecha de nacimiento:</label>
                            <input id="fechaNacimiento" class="form-control"
                                   type="date" name="fechaNacimiento" th:field="*{fechaNacimiento}"/>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="email">E-mail:</label>
                            <input id="email" class="form-control" type="email" name="email" th:field="*{email}"/>
                            <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" style="color: red"></span>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="telefono">Tel√©fono:</label>
                            <input id="telefono" class="form-control" type="tel" name="telefono" th:field="*{telefono}"/>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="detalles">Detalles:</label>
                            <textarea id="detalles" class="form-control" type="text" name="detalles" th:field="*{detalles}"/>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="estadoTratamiento">Estado de tratamiento:</label>
                            <select id="estadoTratamiento" class="form-select" name="paciente"
                                    th:field="*{estadoTratamiento}">
                                <option th:each="estado: ${estados}"
                                        th:value="${estado}"
                                        th:text="${estado}"></option>
                            </select>

                        </div>
                        <input class="btn btn-success" type="submit" name="cargar" value="Cargar">
                        <a class="btn btn-primary" th:href="@{'/pacientes/'}">
                            <i class="fas fa-arrow-left"></i> Volver
                        </a>
                    </form>
                </div>
            </div>

        </div>
    </body>
</html>